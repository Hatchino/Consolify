<% var title="Back-office Gestion Questions et RÃ©ponses" %>

<%- include('header.ejs', { title: title }) %>

<% if (typeof pseudo !== 'undefined' && isAdmin) { %>
<header>
    <div class="admin-banner flex">
        <div class="btn-back circle-back"><i class="fa-solid fa-arrow-left"></i></div>
        <h1 class="uppercase m-auto ">Administration Consolify</h1>
    </div>
</header>

<section id="admin-table">
    <div class="flex mt-40">
        <h2 class="text-align uppercase m-auto">Gestion des quizz</h2>
        <div class="btn-add"><a href="/add-quizz">Ajouter un quizz</a></div>
    </div>
    <table>
        <thead>
            <tr>
                <th>#</th>
                <th>Nom</th>
                <th>Type</th>
                <th>Niveau</th>
                <th>Temps du quizz</th>
                <th>Nombres de questions</th>
                <th>Description</th>
                <th>Image</th>
                <th>Icone</th>
                <th>Modifier</th>
            </tr>
        </thead>
        <tbody>
            <% quizzes.forEach(function (quizze) {  %>
            <tr>
                <td><%= quizze.id %></td>
                <td><%= quizze.nom %></td>
                <td><%= quizze.type_code %></td>
                <td><%= quizze.niveau %></td>
                <td><%= quizze.temps_minutes %> min</td>
                <td><%= quizze.nb_questions %></td>
                <td><%= quizze.description %></td>
                <td><img src="../pictures/<%= quizze.img %>" alt="<%= quizze.nom %>" style="width: 100px;"></td>
                <td> <i class="<%= quizze.icone %>"></i></td>
                <td><i class="fa-solid fa-file-pen"></i></td>
            </tr>
            <%  }) %>
        </tbody>
    </table>
</section>
<% } else { %>
    <script>
        window.location.href = "/";
      </script>
    <% } %>